/**
 * Typography — Base styles
 * 
 * Mobile-first responsive typography using fluid type scale.
 */

@layer base {
	/* ═══════════════════════════════════════════════════════════════════════════
     DOCUMENT
     ═══════════════════════════════════════════════════════════════════════════ */

	html {
		font-size: 100%;
		text-size-adjust: 100%;
		-webkit-text-size-adjust: 100%;
	}

	/* Lenis Smooth Scroll */
	html.lenis,
	html.lenis body {
		height: auto;
	}

	.lenis.lenis-smooth {
		scroll-behavior: auto !important;
	}

	.lenis.lenis-smooth [data-lenis-prevent] {
		overscroll-behavior: contain;
	}

	.lenis.lenis-stopped {
		overflow: hidden;
	}

	.lenis.lenis-scrolling iframe {
		pointer-events: none;
	}

	body {
		background-color: var(--color-bg);
		color: var(--color-text);
		font-family: var(--font-body);
		font-size: var(--type-1);
		line-height: var(--line-height-normal);
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		text-rendering: optimizeLegibility;
	}

	/* ═══════════════════════════════════════════════════════════════════════════
     HEADINGS
     ═══════════════════════════════════════════════════════════════════════════ */

	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		font-family: var(--font-heading);
		font-weight: var(--font-weight-heading);
		line-height: var(--line-height-tight);
		letter-spacing: var(--letter-spacing-normal);
		color: var(--color-text);
		margin: 0;
		text-wrap: balance;
	}

	h1,
	.article-title {
		font-family: var(--font-article-title);
		font-size: var(--type-5);
		line-height: var(--line-height-tight);
		letter-spacing: var(--letter-spacing-tight);
		font-weight: var(--font-weight-heading);
		margin-bottom: var(--space-5);
	}

	h1:not(.article-title) {
		font-family: var(--font-heading);
	}

	h2 {
		font-size: var(--type-4);
		line-height: var(--line-height-snug);
		letter-spacing: var(--letter-spacing-tight);
		margin-top: var(--space-10);
		margin-bottom: var(--space-4);
	}

	h3 {
		font-size: var(--type-3);
		line-height: var(--line-height-snug);
		margin-top: var(--space-8);
		margin-bottom: var(--space-3);
	}

	h4 {
		font-size: var(--type-2);
		line-height: var(--line-height-snug);
		margin-top: var(--space-6);
		margin-bottom: var(--space-2);
	}

	h5 {
		font-size: var(--type-2);
		font-weight: var(--font-weight-heading);
		margin-top: var(--space-4);
		margin-bottom: var(--space-2);
	}

	h6 {
		font-size: var(--type-1);
		font-weight: var(--font-weight-heading);
		margin-top: var(--space-4);
		margin-bottom: var(--space-2);
		color: var(--color-muted);
	}

	/* ═══════════════════════════════════════════════════════════════════════════
     BODY TEXT
     ═══════════════════════════════════════════════════════════════════════════ */

	p {
		font-size: var(--type-1);
		margin-bottom: var(--space-4);
		text-wrap: pretty;
	}

	p:last-child {
		margin-bottom: 0;
	}

	small {
		font-size: var(--type-0);
		color: var(--color-muted);
	}

	strong,
	b {
		font-weight: var(--font-weight-700);
	}

	em,
	i {
		font-style: italic;
	}

	/* ═══════════════════════════════════════════════════════════════════════════
     LINKS
     ═══════════════════════════════════════════════════════════════════════════ */

	a {
		color: var(--color-primary);
		text-decoration: none;
		text-underline-offset: var(--text-underline-offset-normal);
		text-decoration-thickness: var(--text-decoration-thickness-thin);
		transition: color var(--motion-fast) var(--motion-ease);
	}

	a:hover {
		color: var(--color-accent);
		text-decoration-thickness: var(--text-decoration-thickness-normal);
	}

	/* ═══════════════════════════════════════════════════════════════════════════
     LISTS
     ═══════════════════════════════════════════════════════════════════════════ */

	ul,
	ol {
		margin-bottom: var(--space-4);
		padding-left: var(--space-6);
	}

	li {
		margin-bottom: var(--space-2);
	}

	li:last-child {
		margin-bottom: 0;
	}

	/* ═══════════════════════════════════════════════════════════════════════════
     CODE & PREFORMATTED
     ═══════════════════════════════════════════════════════════════════════════ */

	code {
		font-family: var(--font-mono);
		font-size: 0.9em;
		background-color: var(--color-surface);
		border: 1px solid var(--color-border);
		border-radius: var(--radius-1);
		padding: 0.15em 0.4em;
	}

	pre {
		font-family: var(--font-mono);
		font-size: var(--type-0);
		font-feature-settings: var(--font-feature-code);
		max-width: var(--measure-code);
		line-height: var(--line-height-normal);
		background-color: var(--color-surface);
		border: 1px solid var(--color-border);
		border-radius: var(--radius-2);
		padding: var(--space-4);
		overflow-x: auto;
		margin-bottom: var(--space-4);
	}

	pre code {
		background: none;
		border: none;
		padding: 0;
		font-size: inherit;
	}

	/* ═══════════════════════════════════════════════════════════════════════════
     HORIZONTAL RULE
     ═══════════════════════════════════════════════════════════════════════════ */

	hr {
		border: none;
		border-top: 1px solid var(--color-border);
		margin: var(--space-8) 0;
	}

	/* ═══════════════════════════════════════════════════════════════════════════
     REDUCED MOTION
     ═══════════════════════════════════════════════════════════════════════════ */

	@media (prefers-reduced-motion: reduce) {
		*,
		*::before,
		*::after {
			transition-duration: 0ms !important;
			animation-duration: 0ms !important;
		}
	}
}
