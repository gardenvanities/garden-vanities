/**
 * Typography Rules — Humanist + Dark Academy
 * 
 * HEADING HIERARCHY:
 * H1 — ÚNICO, título do artigo (type-6)
 * H2 — Grande, macro-seções (type-4)
 * H3 — Médio, subseções (type-3)
 * H4 — Body size, bold, organização interna (type-2)
 * H5 — Igual ao H4, raramente usado
 * H6 — Evitar, só semântica
 */

@layer base {
	/* ═══════════════════════════════════════════════════════════════════════════
     DOCUMENT — Mobile-first base
     ═══════════════════════════════════════════════════════════════════════════ */

	html {
		font-size: 100%; /* 16px base */
		text-size-adjust: 100%;
		-webkit-text-size-adjust: 100%;
	}

	/* Lenis - Smooth Scroll Support */
	html.lenis,
	html.lenis body {
		height: auto;
	}

	.lenis.lenis-smooth {
		scroll-behavior: auto !important;
	}

	.lenis.lenis-smooth [data-lenis-prevent] {
		overscroll-behavior: contain;
	}

	.lenis.lenis-stopped {
		overflow: hidden;
	}

	.lenis.lenis-scrolling iframe {
		pointer-events: none;
	}

	body {
		background-color: var(--color-bg);
		color: var(--color-text);
		font-family: var(--font-body);
		font-size: var(--type-1);
		line-height: var(--line-height-body);
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		text-rendering: optimizeLegibility;
	}

	/* ═══════════════════════════════════════════════════════════════════════════
     HEADINGS — Red Hat Display (UI) / Fraunces (Articles)
     ═══════════════════════════════════════════════════════════════════════════ */

	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		font-family: var(--font-heading);
		font-weight: 700;
		line-height: var(--line-height-heading);
		letter-spacing: var(--letter-spacing-tight);
		color: var(--color-text);
		margin: 0;
	}

	/* H1 — Título do artigo (ÚNICO por página) */
	h1,
	.article-title {
		font-family: var(--font-article-title);
		font-size: var(--type-6);
		margin-bottom: var(--space-6);
	}

	h1:not(.article-title) {
		font-family: var(--font-heading);
	}

	/* H2 — Macro-seções */
	h2 {
		font-size: var(--type-4);
		margin-top: var(--space-10);
		margin-bottom: var(--space-4);
	}

	/* H3 — Subseções */
	h3 {
		font-size: var(--type-3);
		margin-top: var(--space-8);
		margin-bottom: var(--space-3);
	}

	/* H4 — Organização interna (igual body, bold) */
	h4 {
		font-size: var(--type-2);
		font-weight: 600;
		margin-top: var(--space-6);
		margin-bottom: var(--space-2);
	}

	/* H5 — Raramente usado */
	h5 {
		font-size: var(--type-2);
		font-weight: 600;
		margin-top: var(--space-4);
		margin-bottom: var(--space-2);
	}

	/* H6 — Evitar, só semântica */
	h6 {
		font-size: var(--type-1);
		font-weight: 600;
		margin-top: var(--space-4);
		margin-bottom: var(--space-2);
		color: var(--color-muted);
	}

	/* ═══════════════════════════════════════════════════════════════════════════
     BODY TEXT
     ═══════════════════════════════════════════════════════════════════════════ */

	p {
		font-size: var(--type-1);
		margin-bottom: var(--space-4);
	}

	p:last-child {
		margin-bottom: 0;
	}

	small {
		font-size: var(--type-0);
		color: var(--color-muted);
	}

	strong,
	b {
		font-weight: 700;
	}

	em,
	i {
		font-style: italic;
	}

	/* ═══════════════════════════════════════════════════════════════════════════
     LINKS
     ═══════════════════════════════════════════════════════════════════════════ */

	a {
		color: var(--color-primary);
		text-decoration: none;
		text-underline-offset: 2px;
		transition: color var(--motion-fast) var(--motion-ease);
	}

	a:hover {
		color: var(--color-accent);
	}

	/* ═══════════════════════════════════════════════════════════════════════════
     LISTS
     ═══════════════════════════════════════════════════════════════════════════ */

	ul,
	ol {
		margin-bottom: var(--space-4);
		padding-left: var(--space-6);
	}

	li {
		margin-bottom: var(--space-2);
	}

	li:last-child {
		margin-bottom: 0;
	}

	/* ═══════════════════════════════════════════════════════════════════════════
     CODE & PREFORMATTED
     ═══════════════════════════════════════════════════════════════════════════ */

	code {
		font-family: var(--font-mono);
		font-size: 0.9em;
		background-color: var(--color-surface);
		border: 1px solid var(--color-border);
		border-radius: var(--radius-1);
		padding: 0.15em 0.4em;
	}

	pre {
		font-family: var(--font-mono);
		font-size: var(--type-0);
		background-color: var(--color-surface);
		border: 1px solid var(--color-border);
		border-radius: var(--radius-2);
		padding: var(--space-4);
		overflow-x: auto;
		margin-bottom: var(--space-4);
	}

	pre code {
		background: none;
		border: none;
		padding: 0;
		font-size: inherit;
	}

	/* ═══════════════════════════════════════════════════════════════════════════
     BLOCKQUOTE
     ═══════════════════════════════════════════════════════════════════════════ */

	blockquote {
		font-style: italic;
		border-left: 3px solid var(--color-primary);
		margin: var(--space-6) 0;
		padding-left: var(--space-4);
		color: var(--color-muted);
	}

	blockquote p:last-child {
		margin-bottom: 0;
	}

	/* ═══════════════════════════════════════════════════════════════════════════
     HORIZONTAL RULE
     ═══════════════════════════════════════════════════════════════════════════ */

	hr {
		border: none;
		border-top: 1px solid var(--color-border);
		margin: var(--space-8) 0;
	}

	/* ═══════════════════════════════════════════════════════════════════════════
     PROSE CONTAINER — Long-form content
     ═══════════════════════════════════════════════════════════════════════════ */

	.prose {
		max-width: var(--prose-width);
		margin-inline: auto;
		padding-inline: var(--space-4);
		font-family: var(--font-article-body);
	}

	.prose a {
		text-decoration: underline;
	}

	/* Nested heading margins in prose */
	.prose h2 + h3 {
		margin-top: var(--space-4);
	}

	.prose h3 + h4 {
		margin-top: var(--space-3);
	}

	/* ═══════════════════════════════════════════════════════════════════════════
     REDUCED MOTION — Minimum accessibility
     ═══════════════════════════════════════════════════════════════════════════ */

	@media (prefers-reduced-motion: reduce) {
		* {
			transition-duration: 0ms !important;
			animation-duration: 0ms !important;
		}
	}
}
