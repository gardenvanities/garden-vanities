@layer base {
	.prose {
		max-width: var(--prose-width);
		margin-inline: auto;
		padding-inline: var(--space-4);
		font-family: var(--font-article-body);
		line-height: var(--line-height-relaxed);
		color: var(--color-text);
	}

	.prose p {
		margin-bottom: var(--space-6);
		text-wrap: pretty;
	}

	.prose p:last-child {
		margin-bottom: 0;
	}

	.prose a {
		color: var(--color-primary);
		text-decoration: underline;
		text-underline-offset: var(--text-underline-offset-normal);
		text-decoration-thickness: var(--text-decoration-thickness-thin);
		transition: text-decoration-thickness var(--motion-fast) var(--motion-ease);
	}

	.prose a:hover {
		text-decoration-thickness: var(--text-decoration-thickness-normal);
	}

	.prose h2 {
		font-family: var(--font-article-title);
		font-size: var(--type-4);
		font-weight: var(--font-weight-heading);
		line-height: var(--line-height-snug);
		letter-spacing: var(--letter-spacing-tight);
		color: var(--color-text);
		margin-top: var(--space-10);
		margin-bottom: var(--space-4);
		text-wrap: balance;
	}

	.prose h3 {
		font-family: var(--font-article-title);
		font-size: var(--type-3);
		font-weight: var(--font-weight-heading);
		line-height: var(--line-height-snug);
		color: var(--color-text);
		margin-top: var(--space-8);
		margin-bottom: var(--space-3);
		text-wrap: balance;
	}

	.prose h4 {
		font-family: var(--font-article-title);
		font-size: var(--type-2);
		font-weight: var(--font-weight-heading);
		letter-spacing: var(--letter-spacing-tight);
		margin-top: var(--space-6);
		margin-bottom: var(--space-2);
	}

	.prose h2 + h3 {
		margin-top: var(--space-4);
	}

	.prose h3 + h4 {
		margin-top: var(--space-3);
	}

	.prose ul,
	.prose ol {
		margin-bottom: var(--space-6);
		padding-left: var(--space-6);
	}

	.prose ol {
		list-style-type: decimal;
	}

	.prose ul {
		list-style-type: "ðŸŸ† ";
		padding-left: var(--space-5);
	}

	.prose ul li::marker {
		color: var(--color-primary);
		font-size: 0.9em;
	}

	.prose li {
		margin-bottom: var(--space-2);
	}

	.prose li:last-child {
		margin-bottom: 0;
	}

	.prose blockquote {
		font-size: var(--type-2);
		line-height: var(--line-height-relaxed);
		max-width: var(--measure-narrow);
		font-style: italic;
		border-left: 3px solid var(--color-primary);
		margin: var(--space-8) 0;
		padding-left: var(--space-6);
		color: var(--color-muted);
	}

	.prose blockquote p {
		margin-bottom: var(--space-2);
	}

	.prose blockquote p:last-child {
		margin-bottom: 0;
	}

	.prose :not(pre) > code {
		font-family: var(--font-mono);
		font-feature-settings: var(--font-feature-code);
		font-size: 0.85em;
		background-color: var(--color-surface);
		border: 1px solid var(--color-border);
		border-radius: var(--radius-1);
		padding: 0.2em 0.4em;
	}

	.prose img {
		border-radius: var(--radius-2);
		margin: var(--space-8) auto;
		display: block;
		max-width: 100%;
		height: auto;
	}

	.prose table {
		width: 100%;
		border-collapse: collapse;
		margin-bottom: var(--space-8);
		font-size: var(--type-0);
	}

	/* Base striping: Color odd rows (starts with Header if present) */
	.prose tr:nth-child(odd) {
		background-color: color-mix(in srgb, var(--color-action-hover), transparent 50%);
	}

	/* Fix: If header is colored (odd), first body row (odd) must be transparent to alternate */
	.prose thead + tbody tr:nth-child(odd) {
		background-color: transparent;
	}

	/* Then apply color to even body rows to maintain the rhythm */
	.prose thead + tbody tr:nth-child(even) {
		background-color: color-mix(in srgb, var(--color-action-hover), transparent 50%);
	}

	.prose th {
		text-align: left;
		padding: var(--space-3);
		border: 1px solid var(--color-border);
		font-weight: var(--font-weight-heading);
	}

	.prose td {
		padding: var(--space-3);
		border: 1px solid var(--color-border);
	}

	.prose pre {
		margin: var(--space-6) 0;
	}
}
