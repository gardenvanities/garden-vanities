@import url("https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&family=Vend+Sans:ital,wght@0,300..700;1,300..700&display=swap");

@import "tailwindcss";
@custom-variant dark (&:where(.dark, .dark *));

@import "katex/dist/katex.min.css";

@import "./styles/tokens/_index.css";

@import "./styles/base/reset.css";
@import "./styles/base/typography.css";
@import "./styles/base/lenis.css";

@import "./styles/utilities.css";

@layer base {
	::view-transition-group(root) {
		animation-duration: 0.5s;
		animation-timing-function: var(--motion-ease-entrance);
	}

	::view-transition-old(root) {
		animation-name: fade-out, slide-down-subtle;
		mix-blend-mode: normal;
	}

	::view-transition-new(root) {
		animation-name: fade-in, slide-up-subtle;
		mix-blend-mode: normal;
	}
}

@keyframes fade-in {
	from {
		opacity: 0;
	}
}

@keyframes fade-out {
	to {
		opacity: 0;
	}
}

@keyframes slide-up-subtle {
	from {
		transform: translateY(20px);
	}
}

@keyframes slide-down-subtle {
	to {
		transform: translateY(-5px) scale(0.99);
	}
}

@media (prefers-reduced-motion: reduce) {
	::view-transition-group(root) {
		animation: none !important;
	}
}

@layer components {
	.article-layout {
		display: flex;
		gap: 3rem;
	}

	.article-sidebar {
		flex-shrink: 0;
		width: 280px;
		opacity: 1;
		transform: translateX(0);
		transition:
			width 500ms var(--motion-ease-entrance),
			opacity 300ms var(--motion-ease-entrance),
			transform 400ms var(--motion-ease-entrance);
		will-change: width, opacity, transform;
	}

	.article-sidebar.collapsed {
		width: 0;
		opacity: 0;
		transform: translateX(-20px);
		overflow: hidden;
		pointer-events: none;
	}

	.article-content {
		flex: 1;
		min-width: 0;
		transition: transform 500ms var(--motion-ease-entrance);
	}
}

@media (max-width: 1023px) {
	.article-sidebar {
		display: none;
	}
}
