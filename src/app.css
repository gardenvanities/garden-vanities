/**
 * Garden Vanities — Design System
 * Humanist + Dark Academia Aesthetic
 * 
 * Built with Tailwind CSS 4.1
 * 
 * PHILOSOPHY:
 * 1. All values use design tokens — no ad-hoc values
 * 2. Mobile-first, fluid typography with clamp()
 * 3. Theme: system (default), dark, light
 * 4. Colors in OKLCH format for perceptual uniformity
 */

/* ═══════════════════════════════════════════════════════════════════════════
   FONTS
   ═══════════════════════════════════════════════════════════════════════════ */

@import url("https://fonts.googleapis.com/css2?family=Fraunces:ital,opsz,wght@0,9..144,100..900;1,9..144,100..900&display=swap");
@import url("https://api.fontshare.com/v2/css?f[]=red-hat-display@1,2&f[]=rowan@1,2&display=swap");

/* ═══════════════════════════════════════════════════════════════════════════
   TAILWIND CSS 4.1
   ═══════════════════════════════════════════════════════════════════════════ */

@import "tailwindcss";

/* ═══════════════════════════════════════════════════════════════════════════
   EXTERNAL LIBRARIES
   ═══════════════════════════════════════════════════════════════════════════ */

@import "katex/dist/katex.min.css";

/* ═══════════════════════════════════════════════════════════════════════════
   DESIGN SYSTEM
   ═══════════════════════════════════════════════════════════════════════════ */

/* Layer 1: Primitive tokens (raw values) */
@import "./styles/tokens/tokens-primitive.css";

/* Layer 2: Semantic tokens (light theme) */
@import "./styles/tokens/theme.css";

/* Layer 3: Theme overrides (dark mode) */
@import "./styles/tokens/themes-dark.css";

/* Layer 4: Base typography */
@import "./styles/typography.css";

/* Layer 5: Prose (markdown content) */
@import "./styles/prose.css";

/* Layer 6: Components */
/* @import "./styles/components.css"; */

/* Layer 7: Utilities */
@import "./styles/utilities.css";

/* ═══════════════════════════════════════════════════════════════════════════
   TAILWIND @theme — Expose tokens to Tailwind utilities
   ═══════════════════════════════════════════════════════════════════════════ */

@theme {
	/* Colors */
	--color-bg: var(--color-bg);
	--color-surface: var(--color-surface);
	--color-surface-elevated: var(--color-surface-elevated);
	--color-text: var(--color-text);
	--color-muted: var(--color-muted);
	--color-primary: var(--color-primary);
	--color-primary-contrast: var(--color-primary-contrast);
	--color-accent: var(--color-accent);
	--color-accent-contrast: var(--color-accent-contrast);
	--color-danger: var(--color-danger);
	--color-warning: var(--color-warning);
	--color-success: var(--color-success);
	--color-border: var(--color-border);
	--color-border-vivid: var(--color-border-vivid);

	/* Font Families */
	--font-heading: var(--font-heading);
	--font-body: var(--font-body);
	--font-mono: var(--font-mono);
	--font-article-body: var(--font-article-body);

	/* Font Sizes */
	--text-xs: var(--type--1);
	--text-sm: var(--type-0);
	--text-base: var(--type-1);
	--text-lg: var(--type-2);
	--text-xl: var(--type-3);
	--text-2xl: var(--type-4);
	--text-3xl: var(--type-5);
	--text-4xl: var(--type-6);
	--text-5xl: var(--type-7);

	/* Line Heights */
	--leading-compact: var(--line-height-compact);
	--leading-tight: var(--line-height-tight);
	--leading-snug: var(--line-height-snug);
	--leading-normal: var(--line-height-normal);
	--leading-relaxed: var(--line-height-relaxed);
	--leading-loose: var(--line-height-loose);

	/* Letter Spacing */
	--tracking-tighter: var(--letter-spacing-tighter);
	--tracking-tight: var(--letter-spacing-tight);
	--tracking-normal: var(--letter-spacing-normal);
	--tracking-wide: var(--letter-spacing-wide);
	--tracking-wider: var(--letter-spacing-wider);
	--tracking-caps: var(--letter-spacing-caps);

	/* Border Radius */
	--radius-sm: var(--radius-1);
	--radius-md: var(--radius-2);
	--radius-lg: var(--radius-3);
	--radius-full: var(--radius-full);

	/* Transitions */
	--transition-fast: var(--motion-fast);
	--transition-base: var(--motion-base);
	--transition-slow: var(--motion-slow);

	/* Shadows */
	--shadow-sm: var(--shadow-1);
	--shadow-md: var(--shadow-2);
	--shadow-lg: var(--shadow-3);
}

/* ═══════════════════════════════════════════════════════════════════════════
   VIEW TRANSITIONS
   ═══════════════════════════════════════════════════════════════════════════ */

@layer base {
	::view-transition-old(root),
	::view-transition-new(root) {
		animation-duration: 0.4s;
		animation-timing-function: var(--motion-ease);
	}

	::view-transition-old(root) {
		animation-name: fade-out, scale-down;
	}

	::view-transition-new(root) {
		animation-name: fade-in, scale-up;
	}
}

@keyframes fade-in {
	from {
		opacity: 0;
	}
}

@keyframes fade-out {
	to {
		opacity: 0;
	}
}

@keyframes scale-up {
	from {
		transform: scale(0.98) translateY(10px);
	}
}

@keyframes scale-down {
	to {
		transform: scale(1.02) translateY(-10px);
	}
}

/* Respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {
	::view-transition-group(root) {
		animation: none !important;
	}
}
